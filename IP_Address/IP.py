from tkinter import *
from tkinter import messagebox
import requests
import public_ip as ip


ip=ip.get()
url="https://ipapi.co/{}/json/".format(ip)


data=requests.get(url)
data=data.json()

def check(ip):
    url="https://ipapi.co/{}/json/".format(ip)
    data=requests.get(url)
    data=data.json()
    try:
        lbl_region_value.config(text=data["region"])
        lbl_ip_value.config(text=data["ip"])
        lbl_region_code_value.config(text=data["region_code"])
        lbl_country_code_value.config(text=data["country_code"])
        lbl_country_code_iso3_value.config(text=data["country_code_iso3"])
        lbl_country_name_value.config(text=data["country_name"])
        lbl_country_capital_value.config(text=data["country_capital"])
        lbl_country_tld_value.config(text=data["country_tld"])
        lbl_continent_code_value.config(text=data["continent_code"])
        lbl_in_eu_value.config(text=data["in_eu"])
        lbl_postal_value.config(text=data["postal"])
        lbl_latitude_value.config(text=data["latitude"])
        lbl_longitude_value.config(text=data["longitude"])
        lbl_timezone_value.config(text=data["timezone"])
        lbl_utc_offset_value.config(text=data["utc_offset"])
        lbl_country_calling_code_value.config(text=data["country_calling_code"])
        lbl_currency_value.config(text=data["currency"])
        lbl_languages_value.config(text=data["languages"])
        lbl_asn_value.config(text=data["asn"])
        lbl_org_value.config(text=data["org"])
    
    except :
        messagebox.showerror("Error","Invalid IP Address")

root=Tk()
root.title("IP Address")
root.geometry("510x800")
root.configure(bg="black")

ipintro=Label(root,text="Your IP Address Is ",font=("Arial",25),bg="black",fg="white")
ipintro.place(x=110,y=10)
ipadrr=Label(root,text=ip,font=("Arial",20),bg="black",fg="Yellow")
ipadrr.place(x=150,y=60)
ip_entry=Entry(root,width=22,font=("Arial",20),bg="black",fg="white",bd=2,justify="center",selectbackground="red")
ip_entry.place(x=50,y=120)
search_btn=Button(root,text="Search",font=("Arial",15),bg="red",fg="white",bd=2,command=lambda:check(ip_entry.get()))
search_btn.place(x=400,y=120)


lbl_ip=Label(root,text="IP Address :",font=("Arial",15),bg="black",fg="white")
lbl_ip.place(x=50,y=200)
lbl_ip_value=Label(root,text=ip,font=("Arial",15),bg="black",fg="yellow")
lbl_ip_value.place(x=250,y=200)

lbl_region=Label(root,text="Region :",font=("Arial",15),bg="black",fg="white")
lbl_region.place(x=50,y=230)
lbl_region_value=Label(root,text=data["region"],font=("Arial",15),bg="black",fg="yellow")
lbl_region_value.place(x=250,y=230)

lbl_region_code=Label(root,text="Region Code :",font=("Arial",15),bg="black",fg="white")
lbl_region_code.place(x=50,y=260)
lbl_region_code_value=Label(root,text=data["region_code"],font=("Arial",15),bg="black",fg="yellow")
lbl_region_code_value.place(x=250,y=260)

lbl_country_code=Label(root,text="Country Code :",font=("Arial",15),bg="black",fg="white")
lbl_country_code.place(x=50,y=290)
lbl_country_code_value=Label(root,text=data["country_code"],font=("Arial",15),bg="black",fg="yellow")
lbl_country_code_value.place(x=250,y=290)

lbl_country_code_iso3=Label(root,text="Country Code ISO3 :",font=("Arial",15),bg="black",fg="white")
lbl_country_code_iso3.place(x=50,y=320)
lbl_country_code_iso3_value=Label(root,text=data["country_code_iso3"],font=("Arial",15),bg="black",fg="yellow")
lbl_country_code_iso3_value.place(x=250,y=320)

lbl_country_name=Label(root,text="Country Name :",font=("Arial",15),bg="black",fg="white")
lbl_country_name.place(x=50,y=350)
lbl_country_name_value=Label(root,text=data["country_name"],font=("Arial",15),bg="black",fg="yellow")
lbl_country_name_value.place(x=250,y=350)

lbl_country_capital=Label(root,text="Country Capital :",font=("Arial",15),bg="black",fg="white")
lbl_country_capital.place(x=50,y=380)
lbl_country_capital_value=Label(root,text=data["country_capital"],font=("Arial",15),bg="black",fg="yellow")
lbl_country_capital_value.place(x=250,y=380)

lbl_country_tld=Label(root,text="Country TLD :",font=("Arial",15),bg="black",fg="white")
lbl_country_tld.place(x=50,y=410)
lbl_country_tld_value=Label(root,text=data["country_tld"],font=("Arial",15),bg="black",fg="yellow")
lbl_country_tld_value.place(x=250,y=410)

lbl_continent_code=Label(root,text="Continent Code :",font=("Arial",15),bg="black",fg="white")
lbl_continent_code.place(x=50,y=440)
lbl_continent_code_value=Label(root,text=data["continent_code"],font=("Arial",15),bg="black",fg="yellow")
lbl_continent_code_value.place(x=250,y=440)

lbl_in_eu=Label(root,text="In EU :",font=("Arial",15),bg="black",fg="white")
lbl_in_eu.place(x=50,y=470)
lbl_in_eu_value=Label(root,text=data["in_eu"],font=("Arial",15),bg="black",fg="yellow")
lbl_in_eu_value.place(x=250,y=470)

lbl_postal=Label(root,text="Postal :",font=("Arial",15),bg="black",fg="white")
lbl_postal.place(x=50,y=500)
lbl_postal_value=Label(root,text=data["postal"],font=("Arial",15),bg="black",fg="yellow")
lbl_postal_value.place(x=250,y=500)

lbl_latitude=Label(root,text="Latitude :",font=("Arial",15),bg="black",fg="white")
lbl_latitude.place(x=50,y=530)
lbl_latitude_value=Label(root,text=data["latitude"],font=("Arial",15),bg="black",fg="yellow")
lbl_latitude_value.place(x=250,y=530)

lbl_longitude=Label(root,text="Longitude :",font=("Arial",15),bg="black",fg="white")
lbl_longitude.place(x=50,y=560)
lbl_longitude_value=Label(root,text=data["longitude"],font=("Arial",15),bg="black",fg="yellow")
lbl_longitude_value.place(x=250,y=560)

lbl_timezone=Label(root,text="Timezone :",font=("Arial",15),bg="black",fg="white")
lbl_timezone.place(x=50,y=590)
lbl_timezone_value=Label(root,text=data["timezone"],font=("Arial",15),bg="black",fg="yellow")
lbl_timezone_value.place(x=250,y=590)

lbl_utc_offset=Label(root,text="UTC Offset :",font=("Arial",15),bg="black",fg="white")
lbl_utc_offset.place(x=50,y=620)
lbl_utc_offset_value=Label(root,text=data["utc_offset"],font=("Arial",15),bg="black",fg="yellow")
lbl_utc_offset_value.place(x=250,y=620)

lbl_country_calling_code=Label(root,text="Country Calling Code :",font=("Arial",15),bg="black",fg="white")
lbl_country_calling_code.place(x=50,y=650)
lbl_country_calling_code_value=Label(root,text=data["country_calling_code"],font=("Arial",15),bg="black",fg="yellow")
lbl_country_calling_code_value.place(x=250,y=650)

lbl_currency=Label(root,text="Currency :",font=("Arial",15),bg="black",fg="white")
lbl_currency.place(x=50,y=680)
lbl_currency_value=Label(root,text=data["currency"],font=("Arial",15),bg="black",fg="yellow")
lbl_currency_value.place(x=250,y=680)

lbl_languages=Label(root,text="Languages :",font=("Arial",15),bg="black",fg="white")
lbl_languages.place(x=50,y=710)
lbl_languages_value=Label(root,text=data["languages"],font=("Arial",15),bg="black",fg="yellow")
lbl_languages_value.place(x=250,y=710)

lbl_asn=Label(root,text="ASN :",font=("Arial",15),bg="black",fg="white")
lbl_asn.place(x=50,y=740)
lbl_asn_value=Label(root,text=data["asn"],font=("Arial",15),bg="black",fg="yellow")
lbl_asn_value.place(x=250,y=740)

lbl_org=Label(root,text="ORG :",font=("Arial",15),bg="black",fg="white")
lbl_org.place(x=50,y=770)
lbl_org_value=Label(root,text=data["org"],font=("Arial",15),bg="black",fg="yellow")
lbl_org_value.place(x=250,y=770)


root.mainloop()

